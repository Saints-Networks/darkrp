-- Copyright © 2018 William Venner
-- Tampering will result in immediate automatic license revokation

local ‪ = _G local ‪‪ = ‪['\115\116\114\105\110\103'] local ‪‪‪ = ‪['\98\105\116']['\98\120\111\114'] local function ‪‪‪‪‪‪‪(‪‪‪‪) return ‪‪‪‪ end ‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[print]]](‪[‪‪‪‪‪‪‪[[XEON]]],‪‪‪‪‪‪‪[[Running/updating XEON...]])‪[‪‪‪‪‪‪‪[[file]]][‪‪‪‪‪‪‪[[CreateDir]]](‪‪‪‪‪‪‪[[xeon]])if (‪[‪‪‪‪‪‪‪[[file]]][‪‪‪‪‪‪‪[[Exists]]](‪‪‪‪‪‪‪[[xeon/xeon.dat]],‪‪‪‪‪‪‪[[DATA]]))then ‪[‪‪‪‪‪‪‪[[RunString]]](‪[‪‪‪‪‪‪‪[[file]]][‪‪‪‪‪‪‪[[Read]]](‪‪‪‪‪‪‪[[xeon/xeon.dat]],‪‪‪‪‪‪‪[[DATA]]),‪‪‪‪‪‪‪[[XEON DRM]])end local ‪‪continue=function ()if (‪[‪‪‪‪‪‪‪[[file]]][‪‪‪‪‪‪‪[[Exists]]](‪‪‪‪‪‪‪[[xeon/xeon.dat]],‪‪‪‪‪‪‪[[DATA]]))then ‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[print]]](‪[‪‪‪‪‪‪‪[[XEON]]],‪‪‪‪‪‪‪[[Using cached DRM payload! Check status page: ]]..‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[URL]]],‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[PRINT_WARNING]]])‪[‪‪‪‪‪‪‪[[RunString]]](‪[‪‪‪‪‪‪‪[[file]]][‪‪‪‪‪‪‪[[Read]]](‪‪‪‪‪‪‪[[xeon/xeon.dat]],‪‪‪‪‪‪‪[[DATA]]),‪‪‪‪‪‪‪[[XEON DRM]])else ‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[print]]](‪[‪‪‪‪‪‪‪[[XEON]]],‪‪‪‪‪‪‪[[XEON was unable to get the DRM payload, please check your server's connection to the internet. Check status page: ]]..‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[URL]]],‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[PRINT_ERROR]]])end end local end‪‪‪=function ()‪[‪‪‪‪‪‪‪[[http]]][‪‪‪‪‪‪‪[[Post]]](‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[URL]]]..‪‪‪‪‪‪‪[[/api/xeon]],{},function (and‪‪‪‪‪‪‪‪‪‪‪,‪‪‪‪‪‪‪‪‪‪‪false,‪‪‪‪‪‪‪‪‪and,or‪‪‪‪‪‪)if (or‪‪‪‪‪‪==200 and ‪‪‪‪‪‪‪‪‪‪‪false>0)then local ‪‪‪‪goto={‪[‪‪‪‪‪‪‪[[string]]][‪‪‪‪‪‪‪[[find]]](and‪‪‪‪‪‪‪‪‪‪‪,‪[‪‪‪‪‪‪‪[[string]]][‪‪‪‪‪‪‪[[char]]](10))}local continue‪=‪‪‪‪goto[1]local until‪‪‪‪‪‪=‪‪‪‪goto[2]if (and‪‪‪‪‪‪‪‪‪‪‪[‪‪‪‪‪‪‪[[sub]]](and‪‪‪‪‪‪‪‪‪‪‪,1,continue‪-1)==‪‪‪‪‪‪‪[[success]])then and‪‪‪‪‪‪‪‪‪‪‪=and‪‪‪‪‪‪‪‪‪‪‪[‪‪‪‪‪‪‪[[sub]]](and‪‪‪‪‪‪‪‪‪‪‪,until‪‪‪‪‪‪+1)local if‪‪‪‪‪‪‪,function‪‪‪‪‪‪=‪[‪‪‪‪‪‪‪[[CompileString]]](and‪‪‪‪‪‪‪‪‪‪‪,‪‪‪‪‪‪‪[[XEON DRM]],false )local ‪‪‪‪‪‪goto,not‪‪ if (‪[‪‪‪‪‪‪‪[[type]]](if‪‪‪‪‪‪‪)==‪‪‪‪‪‪‪[[function]])then ‪‪‪‪‪‪goto=if‪‪‪‪‪‪‪ else ‪‪‪‪‪‪goto,not‪‪=if‪‪‪‪‪‪‪,function‪‪‪‪‪‪ end if (‪‪‪‪‪‪goto)then if (not ‪[‪‪‪‪‪‪‪[[file]]][‪‪‪‪‪‪‪[[Exists]]](‪‪‪‪‪‪‪[[xeon/xeon.dat]],‪‪‪‪‪‪‪[[DATA]]))then ‪‪‪‪‪‪goto()end ‪[‪‪‪‪‪‪‪[[file]]][‪‪‪‪‪‪‪[[Write]]](‪‪‪‪‪‪‪[[xeon/xeon.dat]],and‪‪‪‪‪‪‪‪‪‪‪)else if (not ‪‪continue())then if (not‪‪)then ‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[print]]](‪[‪‪‪‪‪‪‪[[XEON]]],‪‪‪‪‪‪‪[[Lua error with DRM payload!]],‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[PRINT_ERROR]]])‪[‪‪‪‪‪‪‪[[ErrorNoHalt]]](not‪‪..‪‪‪‪‪‪‪[[
]])else ‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[print]]](‪[‪‪‪‪‪‪‪[[XEON]]],‪‪‪‪‪‪‪[[Unknown error with DRM payload!]],‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[PRINT_ERROR]]])end end end else ‪[‪‪‪‪‪‪‪[[file]]][‪‪‪‪‪‪‪[[Write]]](‪‪‪‪‪‪‪[[xeon/invalid_response_]]..‪[‪‪‪‪‪‪‪[[os]]][‪‪‪‪‪‪‪[[time]]]()..‪‪‪‪‪‪‪[[.txt]],and‪‪‪‪‪‪‪‪‪‪‪)‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[print]]](‪[‪‪‪‪‪‪‪[[XEON]]],‪‪‪‪‪‪‪[[Invalid response from XEON. Body written to data/xeon/invalid_response_]]..‪[‪‪‪‪‪‪‪[[os]]][‪‪‪‪‪‪‪[[time]]]()..‪‪‪‪‪‪‪[[.txt]],‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[PRINT_ERROR]]])‪‪continue()end else ‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[print]]](‪[‪‪‪‪‪‪‪[[XEON]]],‪‪‪‪‪‪‪[[httpCode = ]]..or‪‪‪‪‪‪..‪‪‪‪‪‪‪[[, size = ]]..‪‪‪‪‪‪‪‪‪‪‪false,‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[PRINT_ERROR]]])‪‪continue()end end ,function (‪‪‪‪‪‪‪‪‪‪‪‪‪not)‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[print]]](‪[‪‪‪‪‪‪‪[[XEON]]],‪‪‪‪‪‪‪[[http.Fetch error: ]]..‪‪‪‪‪‪‪‪‪‪‪‪‪not,‪[‪‪‪‪‪‪‪[[XEON]]][‪‪‪‪‪‪‪[[PRINT_ERROR]]])‪‪continue()end )end if (#‪[‪‪‪‪‪‪‪[[player]]][‪‪‪‪‪‪‪[[GetHumans]]]()>0)then end‪‪‪()else ‪[‪‪‪‪‪‪‪[[timer]]][‪‪‪‪‪‪‪[[Simple]]](5,function ()end‪‪‪()end )end
